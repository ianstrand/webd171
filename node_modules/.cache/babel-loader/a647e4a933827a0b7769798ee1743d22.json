{"ast":null,"code":"import _classCallCheck from \"/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/src/components/VideoInfoBox/VideoInfoBox.js\";\nimport React from 'react';\nimport './VideoInfoBox.scss';\nimport { Image, Button, Divider } from 'semantic-ui-react';\nimport Linkify from 'react-linkify';\nimport { getPublishedAtDateString } from '../../services/date/date-format';\nimport { getShortNumberString } from '../../services/number/number-format';\nexport var VideoInfoBox = /*#__PURE__*/function (_React$Component) {\n  _inherits(VideoInfoBox, _React$Component);\n\n  var _super = _createSuper(VideoInfoBox);\n\n  function VideoInfoBox(props) {\n    var _this;\n\n    _classCallCheck(this, VideoInfoBox);\n\n    _this = _super.call(this, props);\n\n    _this.onToggleCollapseButtonClick = function () {\n      _this.setState(function (prevState) {\n        return {\n          collapsed: !prevState.collapsed\n        };\n      });\n    };\n\n    _this.wrapper = React.createRef();\n    _this.state = {\n      collapsed: true\n    };\n    return _this;\n  }\n\n  _createClass(VideoInfoBox, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.video || !this.props.channel) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 14\n          }\n        });\n      }\n\n      var descriptionParagraphs = this.getDescriptionParagraphs();\n\n      var _this$getConfig = this.getConfig(),\n          descriptionTextClass = _this$getConfig.descriptionTextClass,\n          buttonTitle = _this$getConfig.buttonTitle;\n\n      var publishedAtString = getPublishedAtDateString(this.props.video.snippet.publishedAt);\n      var channel = this.props.channel;\n      var buttonText = this.getSubscriberButtonText();\n      var channelThumbnail = channel.snippet.thumbnails.medium.url;\n      var channelTitle = channel.snippet.title;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-info-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        className: \"channel-image\",\n        src: channelThumbnail,\n        circular: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"channel-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }\n      }, channelTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-publication-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, publishedAtString)), /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.wrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"subscribe\",\n        color: \"youtube\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 35\n        }\n      }, buttonText)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: descriptionTextClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, descriptionParagraphs), /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.wrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        compact: true,\n        onClick: this.onToggleCollapseButtonClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 37\n        }\n      }, buttonTitle)))), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"getDescriptionParagraphs\",\n    value: function getDescriptionParagraphs() {\n      var _this2 = this;\n\n      var videoDescription = this.props.video.snippet ? this.props.video.snippet.description : null;\n\n      if (!videoDescription) {\n        return null;\n      }\n\n      return videoDescription.split('\\n').map(function (paragraph, index) {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 67\n          }\n        }, /*#__PURE__*/React.createElement(Linkify, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 82\n          }\n        }, paragraph));\n      });\n    }\n  }, {\n    key: \"getSubscriberButtonText\",\n    value: function getSubscriberButtonText() {\n      var channel = this.props.channel;\n      var parsedSubscriberCount = Number(channel.statistics.subscriberCount);\n      var subscriberCount = getShortNumberString(parsedSubscriberCount);\n      return \"Subscribe \".concat(subscriberCount);\n    }\n  }, {\n    key: \"getConfig\",\n    value: function getConfig() {\n      var descriptionTextClass = 'collapsed';\n      var buttonTitle = 'Show More';\n\n      if (!this.state.collapsed) {\n        descriptionTextClass = 'expanded';\n        buttonTitle = 'Show Less';\n      }\n\n      return {\n        descriptionTextClass,\n        buttonTitle\n      };\n    }\n  }]);\n\n  return VideoInfoBox;\n}(React.Component);","map":{"version":3,"sources":["/Users/ianstrand/Sites/webd171/lessons/week7/react-youtube/src/components/VideoInfoBox/VideoInfoBox.js"],"names":["React","Image","Button","Divider","Linkify","getPublishedAtDateString","getShortNumberString","VideoInfoBox","props","onToggleCollapseButtonClick","setState","prevState","collapsed","wrapper","createRef","state","video","channel","descriptionParagraphs","getDescriptionParagraphs","getConfig","descriptionTextClass","buttonTitle","publishedAtString","snippet","publishedAt","buttonText","getSubscriberButtonText","channelThumbnail","thumbnails","medium","url","channelTitle","title","videoDescription","description","split","map","paragraph","index","parsedSubscriberCount","Number","statistics","subscriberCount","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './VideoInfoBox.scss';\nimport {Image, Button, Divider} from 'semantic-ui-react';\nimport Linkify from 'react-linkify';\nimport {getPublishedAtDateString} from '../../services/date/date-format';\nimport {getShortNumberString} from '../../services/number/number-format';\n\nexport class VideoInfoBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.wrapper = React.createRef();\n    this.state = {\n      collapsed: true,\n    };\n  }\n\n  render() {\n    if (!this.props.video || !this.props.channel) {\n      return <div/>;\n    }\n\n    const descriptionParagraphs = this.getDescriptionParagraphs();\n    const {descriptionTextClass, buttonTitle} = this.getConfig();\n    const publishedAtString = getPublishedAtDateString(this.props.video.snippet.publishedAt);\n\n    const {channel} = this.props;\n    const buttonText = this.getSubscriberButtonText();\n    const channelThumbnail = channel.snippet.thumbnails.medium.url;\n    const channelTitle = channel.snippet.title;\n\n    return (\n      <div>\n        <div className='video-info-box'>\n          <Image className='channel-image' src={channelThumbnail} circular/>\n          <div className=\"video-info\">\n            <div className='channel-name'>{channelTitle}</div>\n            <div className='video-publication-date'>{publishedAtString}</div>\n          </div>\n          <div ref={this.wrapper}><Button className='subscribe' color='youtube'>{buttonText}</Button></div>\n          <div className=\"video-description\">\n            <div className={descriptionTextClass}>\n              {descriptionParagraphs}\n            </div>\n            <div ref={this.wrapper}><Button compact onClick={this.onToggleCollapseButtonClick}>{buttonTitle}</Button></div>\n          </div>\n        </div>\n        <Divider/>\n      </div>\n    );\n  }\n\n  onToggleCollapseButtonClick = () => {\n    this.setState((prevState) => {\n      return {\n        collapsed: !prevState.collapsed\n      };\n    });\n  };\n\n  getDescriptionParagraphs() {\n    const videoDescription = this.props.video.snippet ? this.props.video.snippet.description : null;\n    if (!videoDescription) {\n      return null;\n    }\n    return videoDescription.split('\\n').map((paragraph, index) => <p key={index}><Linkify>{paragraph}</Linkify></p>);\n  }\n\n  getSubscriberButtonText() {\n    const {channel} = this.props;\n    const parsedSubscriberCount = Number(channel.statistics.subscriberCount);\n    const subscriberCount = getShortNumberString(parsedSubscriberCount);\n    return `Subscribe ${subscriberCount}`;\n  }\n\n  getConfig() {\n    let descriptionTextClass = 'collapsed';\n    let buttonTitle = 'Show More';\n    if (!this.state.collapsed) {\n      descriptionTextClass = 'expanded';\n      buttonTitle = 'Show Less';\n    }\n    return {\n      descriptionTextClass,\n      buttonTitle\n    };\n  }\n}"]},"metadata":{},"sourceType":"module"}